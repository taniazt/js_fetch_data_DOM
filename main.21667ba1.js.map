{"version":3,"sources":["scripts/main.js"],"names":["phonesUrl","getPhonesFromApi","fetch","timeout","Promise","resolve","reject","setTimeout","Error","getPhonesWithTimeout","race","then","response","json","getPhones","phones","phonesIds","map","phone","id","getDetails","ids","detailsList","all","createList","list","document","createElement","element","li","textContent","name","append","body"],"mappings":";AAAA,aAEA,IAAMA,EACJ,wEAEF,SAASC,IACAC,OAAAA,MAAMF,GAGf,SAASG,IACA,OAAA,IAAIC,QAAQ,SAACC,EAASC,GAC3BC,WAAW,WACTD,OAAAA,EAAO,IAAIE,MAAM,WAChB,OAIP,SAASC,IACAL,OAAAA,QAAQM,KAAK,CAClBT,IACAE,MAECQ,KAAK,SAAAC,GACGA,OAAAA,EAASC,SAItB,SAASC,IACAL,OAAAA,IACJE,KAAK,SAAAI,GAGGC,OAFWD,EAAOE,IAAI,SAAAC,GAASA,OAAAA,EAAMC,OAMlD,SAASC,EAAWC,GACZC,IAAAA,EAAcD,EAAIJ,IAAI,SAAAE,GACnBjB,OAAAA,MAE+DiB,oEAAAA,OAAAA,EAF/D,UAIJR,KAAK,SAAAC,GAAYA,OAAAA,EAASC,WAGxBT,OAAAA,QAAQmB,IAAID,GAGrB,SAASE,EAAWF,GACZG,IAAAA,EAAOC,SAASC,cAAc,MAEpCL,EAAYL,IAAI,SAAAW,GACRC,IAAAA,EAAKH,SAASC,cAAc,MAElCE,EAAGC,YAAcF,EAAQG,KAEzBN,EAAKO,OAAOH,KAGdH,SAASO,KAAKD,OAAOP,GAGvBX,EAAUd,GACPW,KAAKS,GACLT,KAAKa","file":"main.21667ba1.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst phonesUrl\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\n\nfunction getPhonesFromApi() {\n  return fetch(phonesUrl);\n}\n\nfunction timeout() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => (\n      reject(new Error('Error'))\n    ), 5000);\n  });\n}\n\nfunction getPhonesWithTimeout() {\n  return Promise.race([\n    getPhonesFromApi(),\n    timeout(),\n  ])\n    .then(response => {\n      return response.json();\n    });\n}\n\nfunction getPhones() {\n  return getPhonesWithTimeout()\n    .then(phones => {\n      const phonesIds = phones.map(phone => phone.id);\n\n      return phonesIds;\n    });\n}\n\nfunction getDetails(ids) {\n  const detailsList = ids.map(id => {\n    return fetch(\n      // eslint-disable-next-line max-len\n      `https://mate-academy.github.io/phone-catalogue-static/api/phones/${id}.json`\n    )\n      .then(response => response.json());\n  });\n\n  return Promise.all(detailsList);\n}\n\nfunction createList(detailsList) {\n  const list = document.createElement('ul');\n\n  detailsList.map(element => {\n    const li = document.createElement('li');\n\n    li.textContent = element.name;\n\n    list.append(li);\n  });\n\n  document.body.append(list);\n};\n\ngetPhones(phonesUrl)\n  .then(getDetails)\n  .then(createList);\n"]}